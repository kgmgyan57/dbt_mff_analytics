version: 2

sources:
  - name: raw
    meta:
      external_location: "{{ env_var('MFF_DATA_LAKE_ROOT') }}/data_lake/{name}/*/*/*.parquet"
    tables:
      - name: orders
        config:
          hive_partitioning: true
      - name: order_items
        config:
          hive_partitioning: true
      - name: order_item_refunds
        config:
          hive_partitioning: true
      - name: website_sessions
        config:
          hive_partitioning: true
      - name: website_pageviews
        config:
          hive_partitioning: true
      - name: products
        meta:
          external_location: "{{ env_var('MFF_DATA_LAKE_ROOT') }}/products.csv"
      - name: mff_data_dictionary
        meta:
          external_location: "{{ env_var('MFF_DATA_LAKE_ROOT') }}/mff_data_dictionary.csv"
